scutum.forms.wizard={},scutum.forms.wizard.init=function(){scutum.require(["flagsCSS"],function(){}),scutum.require(["steps","parsleyJS"],function(){var n=$("#sc-wizard-h-form"),a=$("#sc-wizard-h");n.parsley(),a.steps({headerTag:"h3",bodyTag:"section",transitionEffect:scutum.helpers.isRTL()?"fade":"slideLeft",autoFocus:!0,labels:{finish:"Confirm Order"},onStepChanging:function(e,t,i){if(i<t)return!0;var s=n.find(".body.current");s.find("input, textarea, select").each(function(){$(this).each(function(){var e=$(this);e.parsley().validate(),scutum.forms.common.inputs.update(e)})}),a.steps("setHeight",a,!0);t=s.find(".uk-form-danger").length<1;return t||setTimeout(function(){s.find(".uk-form-danger:first").trigger("focus")},200),t},onInit:function(e,t){function i(e){setTimeout(function(){a.steps("setHeight",a,e)},120)}scutum.forms.common.dynamicFields($("#sc-js-dynamic-fields-billing-address"),!1,!1,i,i);var s=$("[data-inputmask]");s.length&&scutum.require(["inputmask"],function(){s.each(function(e,t){$(t).inputmask()})}),$('[name="wiz-payment"]').on("ifChecked",function(e){e=$(e.currentTarget).attr("data-payment-info");void 0!==e&&($("#"+e).show().siblings().hide(),scutum.$win.resize())});var n=$("[data-cc-validate]");n.length&&scutum.require(["creditCardValidator"],function(){$(".cc-numbers").on("click","a",function(e){e.preventDefault(),$(this).closest(".cc-validate-wrapper").find("[data-cc-validate]").val($(this).text()).trigger("input")}),n.validateCreditCard(function(e){var t=n.closest(".cc-validate-wrapper").children(".cc-icon");e.valid?e.card_type&&t.children("img").attr("src","assets/icons/payment-icons/color/"+e.card_type.name+".png"):t.children("img").attr("src","assets/img/blank.gif")})}),scutum.$win.on("resize",scutum.helpers.debounce(i,200))},onFinished:function(){var e=JSON.stringify(scutum.helpers.serializeObject(n),null,2);UIkit.modal.alert('<h5>Wizard data:</h5><pre class="sc-js-highlight"><code>'+e+"</code></pre>"),scutum.helpers.codeHighlight()}}),$("#sc-wizard-v").steps({headerTag:"h3",bodyTag:"section",transitionEffect:scutum.helpers.isRTL()?"fade":"slideLeft",stepsOrientation:"vertical",enableAllSteps:!0}),$("#sc-wizard-h-min").steps({headerTag:"h3",bodyTag:"section",transitionEffect:scutum.helpers.isRTL()?"fade":"slideLeft",enableAllSteps:!0}),$("#sc-wizard-v-min").steps({headerTag:"h3",bodyTag:"section",transitionEffect:scutum.helpers.isRTL()?"fade":"slideLeft",stepsOrientation:"vertical",enableAllSteps:!0})})};