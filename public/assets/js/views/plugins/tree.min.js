scutum.plugins.tree={},scutum.plugins.tree.init=function(){scutum.require(["fancytree"],function(){scutum.plugins.tree.singleSelection(),scutum.plugins.tree.multipleSelection(),scutum.plugins.tree.dnd(),scutum.plugins.tree.table()})},scutum.plugins.tree.multipleSelection=function(){$("#sc-tree-multiple-selection").fancytree({extensions:["glyph"],checkbox:!0,selectMode:3,debugLevel:0,glyph:{preset:"material",map:scutum.fancytree.glyphMap},source:{url:"data/pages/tree_ajax_products.json",debugDelay:1e3},lazyLoad:function(e,t){t.result={url:"data/pages/tree_ajax_sub2.json",debugDelay:1e3}},init:function(e,t){scutum.helpers.isRTL()&&$(this).find(".fancytree-container").attr("DIR","RTL").addClass("fancytree-rtl")}})},scutum.plugins.tree.singleSelection=function(){$("#sc-tree-single-selection").fancytree({extensions:["glyph"],checkbox:"radio",selectMode:1,debugLevel:0,glyph:{preset:"material",map:scutum.fancytree.glyphMap},source:[{title:"n1",expanded:!0,checkbox:"radio",radiogroup:!0,children:[{title:"n1.1"},{title:"n1.2 (selected)",selected:!0},{title:"n1.3"}]},{title:"n2",expanded:!0,checkbox:"radio",radiogroup:!0,children:[{title:"n2.1"},{title:"n2.2"},{title:"n2.3"}]},{title:"n3",expanded:!0,checkbox:"radio",radiogroup:!0,children:[{title:"n3.1"},{title:"n3.2"},{title:"n3.3"},{title:"n3.4"}]}],init:function(e,t){scutum.helpers.isRTL()&&$(this).find(".fancytree-container").attr("DIR","RTL").addClass("fancytree-rtl")}})},scutum.plugins.tree.dnd=function(){$("#sc-tree-dnd").fancytree({extensions:["glyph","dnd5"],debugLevel:0,glyph:{preset:"material",map:scutum.fancytree.glyphMap},source:{url:"data/pages/tree_ajax_fs.json"},dnd5:{dragStart:function(e,t){return!0},dragDrag:function(e,t){t.dataTransfer.dropEffect="move"},dragEnd:function(e,t){},dragEnter:function(e,t){return t.dataTransfer.dropEffect="move",!0},dragOver:function(e,t){t.dataTransfer.dropEffect="move"},dragLeave:function(e,t){},dragDrop:function(e,t){var n=t.dataTransfer;e.debug("drop",t),t.otherNode?t.otherNode.moveTo(e,t.hitMode):t.otherNodeData?e.addChild(t.otherNodeData,t.hitMode):e.addNode({title:n.getData("text")},t.hitMode),e.setExpanded()}},init:function(e,t){scutum.helpers.isRTL()&&$(this).find(".fancytree-container").attr("DIR","RTL").addClass("fancytree-rtl")}})},scutum.plugins.tree.table=function(){var e=$("#sc-tree-table");$("#sc-tree-check-all").on("ifUnchecked",function(){e.fancytree("getTree").visit(function(e){e.setSelected(!1)})}).on("ifChecked",function(){e.fancytree("getTree").visit(function(e){e.setSelected(!0)})}),e.fancytree({extensions:["glyph","table","wide"],checkbox:!0,selectMode:3,glyph:{preset:"material",map:scutum.fancytree.glyphMap},table:{checkboxColumnIdx:0,nodeColumnIdx:1},source:{url:"data/pages/tree_ajax_books.json"},renderColumns:function(e,t){var n=t.node,t=n.data,n=$(n.tr).find(">td");n.eq(2).text(t.author),n.eq(3).text(t.year),n.eq(4).text(t.price?t.price.toFixed(2):"")},init:function(e,t){scutum.helpers.isRTL()&&$(this).find(".fancytree-container").attr("DIR","RTL").addClass("fancytree-rtl")}})};