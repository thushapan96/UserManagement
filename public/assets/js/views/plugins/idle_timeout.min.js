scutum.plugins.idleTimeout={},scutum.plugins.idleTimeout.init=function(){scutum.require(["idle-timeout"],function(){var t=scutum.helpers.isRTL()?"uk-text-left":"uk-text-right";scutum.$body.append('<div class="uk-modal" id="sc-modal-idle"><div class="uk-modal-dialog"><div class="uk-modal-body"><h3 class="uk-modal-title">Your session is about to expire!</h3><hr><p class="uk-margin-remove">You\'ve been inactive for a while. For your security, we\'ll log you out automatically.</p><p class="uk-margin-remove">Click "Stay Online" to continue your session.</p><p>Your session will expire in <span class="sc-text-semibold md-color-red-600" id="sc-session-timer"></span> second(s).</p></div><div class="uk-modal-footer '+t+'"><button id="sc-session-stay" type="button" class="sc-button sc-button-default sc-button-flat uk-modal-close">Stay Online</button><button type="button" class="sc-button sc-button-outline sc-button-outline-primary uk-margin-small-left" id="sc-session-logout">Logout</button></div></div></div>');var n=UIkit.modal("#sc-modal-idle",{bgClose:!1,escClose:!1}),s={inactiveTimeout:5e3,warningTimeout:3e4,minWarning:5e3,warningStart:null,warningTimer:null,autologout:{url:"login_page.html"},logout:function(){window.location=s.autologout.url}},u=$("#sc-session-timer").html(s.warningTimeout/1e3);$(document).on("idle.idleTimer",function(t,i,o){var e=+new Date-o.lastActive-o.timeout,o=+new Date-e;e>=s.warningTimeout||o<=s.minWarning?n.hide():(u.html(Math.round((s.warningTimeout-e)/1e3)),n.show(),s.warningStart=+new Date-e,s.warningTimer=setInterval(function(){var t=Math.round(s.warningTimeout/1e3-(+new Date-s.warningStart)/1e3);0<=t?u.html(t):s.logout()},1e3))}),scutum.$body.on("click","#sc-session-stay",function(){clearTimeout(s.warningTimer),n.hide()}).on("click","#sc-session-logout",function(){s.logout()}),$(document).idleTimer(s.inactiveTimeout)})};