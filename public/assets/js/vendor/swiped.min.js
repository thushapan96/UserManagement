!function(){var t={start:(e=window.navigator.msPointerEnabled)?"MSPointerDown":"touchstart",move:e?"MSPointerMove":"touchmove",end:e?"MSPointerUp":"touchend"},e=(e=window.getComputedStyle(document.documentElement,""),"-"+(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1]+"-"),o=function(){var t,e=document.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(void 0!==e.style[t])return i[t]}(),i=e+"transition",n=e+"transform";function s(t,n){document.addEventListener(t,function(i){a._elems.forEach(function(t){for(var e=i.target;e;){if(e===t.elem)return t[n](i),!1;e=e.parentNode}return!1})},{passive:!0})}function r(t){var e,i=[].shift.call(arguments),n=t;for(e in n)n.hasOwnProperty(e)&&(i[e]=n[e]);return i}function h(){}var a=function(t){t=r({duration:200,tolerance:50,time:200,dir:1,right:0,left:0},t||{}),this.duration=t.duration,this.tolerance=t.tolerance,this.time=t.time,this.width=t.left||t.right,this.elem=t.elem,this.list=t.list,this.dir=t.dir,this.group=t.group,this.id=a.elemId++,this.onOpen="function"==typeof t.onOpen?t.onOpen:h,this.onClose="function"==typeof t.onClose?t.onClose:h,this.right=t.right,this.left=t.left,(0<t.right&&t.tolerance>t.right||0<t.left&&t.tolerance>t.left)&&console.warn("tolerance must be less then left and right")};a._elems=[],a.groupCounter=0,a.elemId=0,a.init=function(e){a.groupCounter++;var t=document.querySelectorAll(e.query),i=[];return delete e.query,[].forEach.call(t,function(t){t=r({elem:t,group:a.groupCounter},e);i.push(new a(t))}),a._bindEvents(),a._elems=a._elems.concat(i),1===i.length?i[0]:i},a._closeAll=function(e){a._elems.forEach(function(t){t.group===e&&t.close(!0)})},a.prototype.transitionEnd=function(e,i){var n=this;e.addEventListener(o,function t(){i.call(n),e.removeEventListener(o,t)},{passive:!0})},a.prototype.touchStart=function(t){var e=t.changedTouches[0];1===t.touches.length&&(this.touchId=e.identifier,this.x=e.pageX,this.y=e.pageY,this.startTime=new Date,this.resetValue(),this.list?a._closeAll(this.group):this.close(!0))},a.prototype.touchMove=function(t){var e=t.changedTouches[0];this.isValidTouch(t)&&(this.delta=e.pageX-this.x,this.dir=this.delta<0?-1:1,this.width=this.delta<0?this.right:this.left,this.defineUserAction(e),this.startSwipe&&this.move())},a.prototype.touchEnd=function(t){this.isValidTouch(t,!0)&&this.startSwipe&&(this.dir*this.delta>this.tolerance||new Date-this.startTime<this.time?this.open():this.close(),t.stopPropagation())},a.prototype.open=function(t){this.animation(this.dir*this.width),this.swiped=!0,t||this.transitionEnd(this.elem,this.onOpen),this.resetValue()},a.prototype.close=function(t){this.animation(0),this.swiped=!1,t||this.transitionEnd(this.elem,this.onClose),this.resetValue()},a.prototype.toggle=function(){this.swiped?this.close():this.open()},a.prototype.resetValue=function(){this.startSwipe=!1,this.startScroll=!1,this.delta=0},a._bindEvents=function(){if(a.eventBinded)return!1;s(t.move,"touchMove"),s(t.end,"touchEnd"),s(t.start,"touchStart"),a.eventBinded=!0},a.prototype.defineUserAction=function(t){10<Math.abs(this.y-t.pageY)&&!this.startSwipe?this.startScroll=!0:10<Math.abs(this.delta)&&!this.startScroll&&(this.startSwipe=!0)},a.prototype.isValidTouch=function(t,e){return t[e?"changedTouches":"targetTouches"][0].identifier===this.touchId},a.prototype.move=function(){if(0<this.dir&&(this.delta<0||0===this.left)||this.dir<0&&(0<this.delta||0===this.right))return!1;var t=Math.abs(this.delta);t>this.width&&(this.delta=this.dir*(this.width+(t-this.width)/8)),this.animation(this.delta,0)},a.prototype.animation=function(t,e){e=void 0===e?this.duration:e,this.elem.style.cssText=i+":"+n+" "+e+"ms; "+n+":translate3d("+t+"px, 0px, 0px)"},a.prototype.destroy=function(t){var i=this.id;a._elems.forEach(function(t,e){t.id===i&&a._elems.splice(e,1)}),t&&this.elem.parentNode&&this.elem.parentNode.removeChild(this.elem)},window.Swiped=a}();