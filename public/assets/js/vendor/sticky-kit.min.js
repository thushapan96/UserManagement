var $=window.jQuery,win=$(window),doc=$(document),scroll_container=win;$.fn.stick_in_parent=function(t){var o,i,e,s,v,b=(t=null==t?{}:t).sticky_class,x=t.sticky_class_bottom,C=t.inner_scrolling,P=t.recalc_every,V=t.parent,F=t.offset_top,z=t.spacer,I=t.bottoming,t=t.container,T=win.height(),j=doc.height();for(null==F&&(F=0),null==V&&(V=void 0),null==C&&(C=!0),null==b&&(b="is-stuck"),null==x&&(x="is-stuck-bottom"),null==I&&(I=!0),null!=z&&(win=t),null!=t&&(scroll_container=$(t)),v=function(t){var o,i;return window.getComputedStyle?(i=t[0],o=window.getComputedStyle(i),i=parseFloat(o.getPropertyValue("width"))+parseFloat(o.getPropertyValue("margin-left"))+parseFloat(o.getPropertyValue("margin-right")),"border-box"!==o.getPropertyValue("box-sizing")&&(i+=parseFloat(o.getPropertyValue("border-left-width"))+parseFloat(o.getPropertyValue("border-right-width"))+parseFloat(o.getPropertyValue("padding-left"))+parseFloat(o.getPropertyValue("padding-right"))),i):t.outerWidth(!0)},i=function(s,r,n,l,c,a,p,d){var u,t,g,h,f,k,m,w,o,y,_,e;if(!s.data("sticky_kit")){if(s.data("sticky_kit",!0),f=j,m=s.closest(".sc-js-sticky-parent").length?s.closest(".sc-js-sticky-parent"):s.parent(),!(m=null!=V?m.closest(V):m).length)throw new Error("failed to find stick parent");if(u=g=!1,(_=null!=z?z&&s.closest(z):$("<div />"))&&_.css("position",s.css("position")),(w=function(){var t,o,i;if(!d)return T=win.height(),j=doc.height(),f=j,t=parseInt(m.css("border-top-width"),10),o=parseInt(m.css("padding-top"),10),r=parseInt(m.css("padding-bottom"),10),n=m.offset().top+t+o+win.scrollTop(),l=m.height(),g&&(u=g=!1,null==z&&(s.insertAfter(_),_.detach()),s.css({position:"",top:"",width:"",bottom:""}).removeClass(b).removeClass(x),i=!0),c=s.offset().top-(parseInt(s.css("margin-top"),10)||0)-F+win.scrollTop(),a=s.outerHeight(!0),p=s.css("float"),_&&_.css({width:v(s),height:a,display:s.css("display"),"vertical-align":s.css("vertical-align"),float:p}),i?e():void 0})(),a!==l)return h=void 0,k=F,y=P,e=function(){var t,o,i,e;if(!d)return i=!1,null!=y&&--y<=0&&(y=P,w(),i=!0),i||j===f||(w(),i=!0),i=scroll_container.scrollTop(),null!=h&&(o=i-h),h=i,a=s.outerHeight(!0),g?(I&&(e=l+n<i+a+k,u&&!e&&(u=!1,s.removeClass(x).css({position:"fixed",bottom:"",top:k}).trigger("sticky_kit:unbottom"))),i<c&&(g=!1,k=F,null==z&&("left"!==p&&"right"!==p||s.insertAfter(_),_.detach()),t={position:"",width:"",top:""},s.css(t).removeClass(b).removeClass(x).trigger("sticky_kit:unstick")),C&&T<a+F&&(u||(k-=o,k=Math.max(T-a,k),k=Math.min(F,k),g&&s.css({top:k+"px"})))):c<i&&(g=!0,(t={position:"fixed",top:k}).width="border-box"===s.css("box-sizing")?s.outerWidth()+"px":s.width()+"px",s.css(t).addClass(b),null==z&&(s.after(_),"left"!==p&&"right"!==p||_.append(s)),f=doc.height(),s.trigger("sticky_kit:stick")),g&&I&&(null==e&&(e=l+n<i+a+k),!u&&e)?(u=!0,"static"===m.css("position")&&m.css({position:"relative"}),s.addClass(x).css({position:"absolute",bottom:r,top:"auto"}).trigger("sticky_kit:bottom")):void 0},o=function(){return w(),e()},t=function(){if(d=!0,scroll_container.off("touchmove",e),scroll_container.off("scroll",e),$(window).off("resize",o),$(document.body).off("sticky_kit:recalc",o),s.off("sticky_kit:detach",t),s.removeData("sticky_kit"),s.css({position:"",bottom:"",top:"",width:""}),m.position("position",""),g)return null==z&&("left"!==p&&"right"!==p||s.insertAfter(_),_.remove()),s.removeClass(b)},scroll_container.on("touchmove",e),scroll_container.on("scroll",e),$(window).on("resize",o),$(document.body).on("sticky_kit:recalc",o),s.on("sticky_kit:detach",t),setTimeout(e,0)}},e=0,s=this.length;e<s;e++)o=this[e],i($(o));return this};