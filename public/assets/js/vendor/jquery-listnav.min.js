!function(H){H.fn.listnav=function(e){var p=H.extend({},H.fn.listnav.defaults,e),g=["_","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","-"],w=!1,x="",x=null!==document.ontouchstart?"click":"touchend click";return p.prefixes=H.map(p.prefixes,function(e){return e.toLowerCase()}),this.each(function(){var a,o,d,r,c,u,e=this.id,v=H(this),h={},i=0,f=!0,C="";function m(e,l,t){/\W/.test(e)&&(e="-"),isNaN(e)||(e="_"),l.addClass("ln-"+e),void 0===h[e]&&(h[e]=0),h[e]++,t||i++}function N(e){return H(e).hasClass("all")?p.dontCount?i-v.find(p.dontCount).length:i:(e=".ln-"+H(e).attr("class").split(" ")[0],void 0!==(u=(p.dontCount?v.find(e).not(p.dontCount):v.find(e)).length)?u:0)}H("#"+e+"-nav").length||H('<div id="'+e+'-nav" class="listNav"/>').insertBefore(v),a=H("#"+e+"-nav"),function(){var l,t,i,s,e;if(a.append(function(){for(var e=[],l=1;l<g.length;l++)0===e.length&&e.push('<a class="all" href="#">'+p.allText+'</a><a class="_" href="#">0-9</a>'),e.push('<a class="'+g[l]+'" href="#">'+("-"===g[l]?"...":g[l].toUpperCase())+"</a>");return'<div class="ln-letters">'+e.join("")+"</div>"+(p.showCounts?'<div class="ln-letter-count listNavHide">0</div>':"")}()),o=H(".ln-letters",a).slice(0,1),p.showCounts&&(d=H(".ln-letter-count",a).slice(0,1)),i=0<p.prefixes.length,s=0<p.filterSelector.length,H(v).children().each(function(){if(t=H(this),""!==(l=(s?H.trim(t.find(p.filterSelector).text()):H.trim(t.text())).toLowerCase())){if(i){var e=H.map(p.prefixes,function(e){return e.indexOf(" ")<=0?e+" ":e}),e=H.grep(e,function(e){return 0===l.indexOf(e)});if(0<e.length){e=l.toLowerCase().split(e[0])[1];return void m((null!==e?H.trim(e):l).charAt(0),t,!0)}}m(l.charAt(0),t)}}),v.append('<li class="ln-no-match listNavHide">'+p.noMatchText+"</li>"),p.showCounts&&(a.mouseover(function(){var e;e=d.outerHeight(),d.css({top:H("a:first",a).slice(0,1).position().top-e})}),H(".ln-letters a",a).mouseover(function(){r=H(this).position().left,c=H(this).outerWidth()+"px",u=N(this),d.css({left:r,width:c}).text(u).addClass("letterCountShow").removeClass("listNavHide")}).mouseout(function(){d.addClass("listNavHide").removeClass("letterCountShow")})),H("a",o).on(x,function(e){e.preventDefault();var l=H(this),t=l.attr("class").split(" ")[0],e=v.children(".ln-no-match");p.initHidden&&v.children(".ln-init-hidden").remove(),C!==t&&(H("a.ln-selected",o).removeClass("ln-selected"),"all"===t?(v.children().addClass("listNavShow").removeClass("listNavHide"),e.addClass("listNavHide").removeClass("listNavShow"),f=!0):(f?(v.children().addClass("listNavHide").removeClass("listNavShow"),f=!1):""!==C&&v.children(".ln-"+C).addClass("listNavHide").removeClass("listNavShow"),0<N(this)?(v.children(".ln-"+t).addClass("listNavShow").removeClass("listNavHide"),e.addClass("listNavHide").removeClass("listNavShow")):e.addClass("listNavShow").removeClass("listNavHide")),C=t,H.cookie&&null!==p.cookieName&&H.cookie(p.cookieName,t,{expires:999}),l.addClass("ln-selected"),l.blur(),w||null===p.onClick?w=!1:p.onClick(t)),void 0!==p.onAfterFilter&&p.onAfterFilter(t)}),p.flagDisabled&&function(){for(var e=0;e<g.length;e++)void 0===h[g[e]]&&H("."+g[e],o).addClass("ln-disabled")}(),p.includeAll||H(".all",o).remove(),p.includeNums||H("._",o).remove(),p.includeOther||H(".-",o).remove(),p.removeDisabled&&H(".ln-disabled",o).remove(),H(":last",o).addClass("ln-last"),!H.cookie||null===p.cookieName||null!=(e=H.cookie(p.cookieName))&&(p.initLetter=e),""!==p.initLetter)w=!0,H("."+p.initLetter.toLowerCase(),o).slice(0,1).trigger("click");else if(p.initHidden)v.append('<li class="ln-init-hidden listNavHide">'+p.initHiddenText+"</li>"),v.children().addClass("listNavHide"),v.children(".ln-init-hidden").removeClass("listNavHide");else if(p.includeAll)H(".all",o).addClass("ln-selected");else for(var n=p.includeNums?0:1;n<g.length;n++)if(0<h[g[n]]){w=!0,H("."+g[n],o).slice(0,1).trigger("click");break}}()})},H.fn.listnav.defaults={initHidden:!1,initHiddenText:"Tap a letter above to view matching items",initLetter:"",includeAll:!0,allText:"All",includeOther:!1,includeNums:!0,flagDisabled:!0,removeDisabled:!1,noMatchText:"No matching entries",showCounts:!0,dontCount:"",cookieName:null,onClick:null,prefixes:[],filterSelector:"",onAfterFilter:null}}(jQuery);