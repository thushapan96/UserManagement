!function(l,c){"use strict";l.fn.chained=function(s){return this.each(function(){var o=this,r=l(o).clone();function t(){var t=!0,e=l("option:selected",o).val();l(o).html(r.html());var n,i="";l(s).each(function(){var t=l("option:selected",this).val();t&&(0<i.length&&(c.Zepto?i+="\\\\":i+="\\"),i+=t)}),n=(l.isArray(s)?l(s[0]):l(s)).first();var a=l("option:selected",n).val();l("option",o).each(function(){l(this).hasClass(i)&&l(this).val()===e?(l(this).prop("selected",!0),t=!1):l(this).hasClass(i)||l(this).hasClass(a)||""===l(this).val()||l(this).remove()}),1===l("option",o).length&&""===l(o).val()?l(o).prop("disabled",!0):l(o).prop("disabled",!1),t&&l(o).trigger("change")}l(s).each(function(){l(this).bind("change",function(){t()}),l("option:selected",this).length||l("option",this).first().attr("selected","selected"),t()})})},l.fn.chainedTo=l.fn.chained,l.fn.chained.defaults={}}(window.jQuery||window.Zepto,window,document),function(l){"use strict";l.fn.remoteChained=function(t){var i=l.extend({},l.fn.remoteChained.defaults,t);return i.loading&&(i.clear=!0),this.each(function(){var s=this,t=!1;function e(t){var e=l(":selected",s).val();l("option",s).remove();var n=[];if(l.isArray(t))n=l.isArray(t[0])?t:l.map(t,function(t){return l.map(t,function(t,e){return[[e,t]]})});else for(var i in t)t.hasOwnProperty(i)&&n.push([i,t[i]]);for(var a=0;a!==n.length;a++){var o=n[a][0],r=n[a][1];"selected"!==o?(o=l("<option />").val(o).append(r),l(s).append(o)):e=r}l(s).children().each(function(){l(this).val()===e+""&&l(this).attr("selected","selected")}),1===l("option",s).length()&&""===l(s).val()?l(s).prop("disabled",!0):l(s).prop("disabled",!1)}l(i.parents).each(function(){l(this).bind("change",function(){var n={};l(i.parents).each(function(){var t=l(this).attr(i.attribute),e=(l(this).is("select")?l(":selected",this):l(this)).val();n[t]=e,i.depends&&l(i.depends).each(function(){var t,e;s!==this&&(t=l(this).attr(i.attribute),e=l(this).val(),n[t]=e)})}),t&&l.isFunction(t.abort)&&(t.abort(),t=!1),i.clear&&(i.loading?e.call(s,{"":i.loading}):l("option",s).remove(),l(s).trigger("change"),l(s).trigger("chained:load")),t=l.getJSON(i.url,n,function(t){e.call(s,t),l(s).trigger("change")})}),i.bootstrap&&(e.call(s,i.bootstrap),i.bootstrap=null)})})},l.fn.remoteChainedTo=l.fn.remoteChained,l.fn.remoteChained.defaults={attribute:"name",depends:null,bootstrap:null,loading:null,clear:!1}}(window.jQuery||window.Zepto,(window,document));